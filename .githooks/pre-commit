#!/bin/sh

# Prevent committing *-local.nix files (contains secrets)
if git diff --cached --name-only | grep -q '\-local\.nix$'; then
  echo "ERROR: Attempting to commit *-local.nix files which contain secrets."
  echo "These files should remain staged but not committed."
  echo ""
  echo "To unstage them:"
  echo "  git reset HEAD -- '*-local.nix'"
  echo ""
  exit 1
fi
